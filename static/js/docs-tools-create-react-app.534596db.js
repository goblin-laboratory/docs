(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"./docs/tools/create-react-app.md":function(n,e,t){"use strict";t.r(e),t.d(e,"default",function(){return m});var i=t("./node_modules/react/index.js"),r=t.n(i),a=t("./node_modules/@mdx-js/tag/dist/index.js");function o(n){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function l(n,e){if(null==n)return{};var t,i,r=function(n,e){if(null==n)return{};var t,i,r={},a=Object.keys(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)t=a[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function p(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function s(n,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function c(n,e){return(c=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}var m=function(n){function e(n){var t;return function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=s(this,u(e).call(this,n))).layout=null,t}var t,i,o;return function(n,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&c(n,e)}(e,r.a.Component),t=e,(i=[{key:"render",value:function(){var n=this.props,e=n.components;l(n,["components"]);return r.a.createElement(a.MDXTag,{name:"wrapper",components:e},r.a.createElement(a.MDXTag,{name:"h3",components:e,props:{id:"1-create-react-app"}},"1. create-react-app"),r.a.createElement(a.MDXTag,{name:"ul",components:e},r.a.createElement(a.MDXTag,{name:"li",components:e,parentName:"ul"},"\u9879\u76ee\u5730\u5740: ",r.a.createElement(a.MDXTag,{name:"a",components:e,parentName:"li",props:{href:"https://github.com/facebook/create-react-app"}},"https://github.com/facebook/create-react-app"))),r.a.createElement(a.MDXTag,{name:"h3",components:e,props:{id:"2-\u4f7f\u7528-react-app-rewired-\u914d\u7f6e"}},"2. \u4f7f\u7528 react-app-rewired \u914d\u7f6e"),r.a.createElement(a.MDXTag,{name:"h3",components:e,props:{id:"3-\u652f\u6301\u591a\u9875\u9762"}},"3. \u652f\u6301\u591a\u9875\u9762"),r.a.createElement(a.MDXTag,{name:"h3",components:e,props:{id:"4-\u540c\u65f6\u6309\u9700\u52a0\u8f7d-ant-design-\u548c-ant-design-pro"}},"4. \u540c\u65f6\u6309\u9700\u52a0\u8f7d ant-design \u548c ant-design-pro"),r.a.createElement(a.MDXTag,{name:"pre",components:e},r.a.createElement(a.MDXTag,{name:"code",components:e,parentName:"pre",props:{className:"language-js"}},"    config = injectBabelPlugin(['import', { libraryName: 'antd', style: true }, 'ant'], config);\n    config = injectBabelPlugin(\n      [\n        'import',\n        {\n          libraryName: 'ant-design-pro',\n          libraryDirectory: 'lib',\n          style: true,\n          camel2DashComponentName: false,\n        },\n        'ant-design-pro',\n      ],\n      config,\n    );\n")),r.a.createElement(a.MDXTag,{name:"pre",components:e},r.a.createElement(a.MDXTag,{name:"code",components:e,parentName:"pre",props:{className:"language-js"}},"// config-overrides.js\n/* eslint-disable */\nconst paths = require('react-scripts/config/paths');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst { injectBabelPlugin } = require('react-app-rewired');\n// const rewireCssModules = require('react-app-rewire-css-modules');\n// const rewireLess = require('react-app-rewire-less');\nconst rewireLess = require('react-app-rewire-less-modules');\nconst BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;\n\npaths.appIndexJs = paths.appSrc + '/pages/login.js';\npaths.appLoginJs = paths.appSrc + '/pages/login.js';\npaths.appAdminJs = paths.appSrc + '/pages/admin.js';\npaths.appAuthJs = paths.appSrc + '/pages/auth.js';\npaths.servedPath = './';\n\nconst replacePlugin = (plugins, nameMatcher, newPlugin) => {\n  const pluginIndex = plugins.findIndex(plugin => {\n    return plugin.constructor && plugin.constructor.name && nameMatcher(plugin.constructor.name);\n  });\n\n  if (-1 === pluginIndex) {\n    return plugins;\n  }\n\n  const nextPlugins = plugins\n    .slice(0, pluginIndex)\n    .concat(newPlugin)\n    .concat(plugins.slice(pluginIndex + 1));\n\n  return nextPlugins;\n};\n\nmodule.exports = {\n  webpack: (config, env) => {\n    config = injectBabelPlugin(['import', { libraryName: 'antd', style: true }, 'ant'], config);\n    config = injectBabelPlugin(\n      [\n        'import',\n        {\n          libraryName: 'ant-design-pro',\n          libraryDirectory: 'lib',\n          style: true,\n          camel2DashComponentName: false,\n        },\n        'ant-design-pro',\n      ],\n      config,\n    );\n    config = rewireLess.withLoaderOptions({\n      javascriptEnabled: true,\n      // modifyVars: { \"@primary-color\": \"#1DA57A\" },\n    })(config, env);\n\n    if ('development' === env) {\n      config.entry = {\n        index: [require.resolve('react-dev-utils/webpackHotDevClient'), paths.appIndexJs],\n        login: [require.resolve('react-dev-utils/webpackHotDevClient'), paths.appLoginJs],\n        admin: [require.resolve('react-dev-utils/webpackHotDevClient'), paths.appAdminJs],\n        auth: [require.resolve('react-dev-utils/webpackHotDevClient'), paths.appAuthJs],\n      };\n      config.output.filename = 'static/js/[name].bundle.js';\n\n      const indexHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        chunks: ['vendors', 'runtime~index', 'index'],\n        filename: 'index.html',\n      });\n      const loginHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        chunks: ['vendors', 'runtime~login', 'login'],\n        filename: 'login.html',\n      });\n      const adminHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        chunks: ['vendors', 'runtime~admin', 'admin'],\n        filename: 'admin.html',\n      });\n      const authHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        chunks: ['vendors', 'runtime~auth', 'auth'],\n        filename: 'auth.html',\n      });\n      config.plugins = replacePlugin(config.plugins, name => /HtmlWebpackPlugin/i.test(name), indexHtmlPlugin);\n      config.plugins.push(loginHtmlPlugin);\n      config.plugins.push(adminHtmlPlugin);\n      config.plugins.push(authHtmlPlugin);\n    } else {\n      config.entry = {\n        index: [paths.appIndexJs],\n        login: [paths.appLoginJs],\n        admin: [paths.appAdminJs],\n        auth: [paths.appAuthJs],\n      };\n      const indexHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        minify: {\n          removeComments: true,\n          collapseWhitespace: true,\n          removeRedundantAttributes: true,\n          useShortDoctype: true,\n          removeEmptyAttributes: true,\n          removeStyleLinkTypeAttributes: true,\n          keepClosingSlash: true,\n          minifyJS: {\n            comments: '@cc_on',\n          },\n          minifyCSS: true,\n          minifyURLs: true,\n        },\n        chunks: ['vendors', 'runtime~index', 'index'],\n        filename: 'index.html',\n      });\n      const loginHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        minify: {\n          removeComments: true,\n          collapseWhitespace: true,\n          removeRedundantAttributes: true,\n          useShortDoctype: true,\n          removeEmptyAttributes: true,\n          removeStyleLinkTypeAttributes: true,\n          keepClosingSlash: true,\n          minifyJS: {\n            comments: '@cc_on',\n          },\n          minifyCSS: true,\n          minifyURLs: true,\n        },\n        chunks: ['vendors', 'runtime~login', 'login'],\n        filename: 'login.html',\n      });\n      const adminHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        minify: {\n          removeComments: true,\n          collapseWhitespace: true,\n          removeRedundantAttributes: true,\n          useShortDoctype: true,\n          removeEmptyAttributes: true,\n          removeStyleLinkTypeAttributes: true,\n          keepClosingSlash: true,\n          minifyJS: {\n            comments: '@cc_on',\n          },\n          minifyCSS: true,\n          minifyURLs: true,\n        },\n        chunks: ['vendors', 'runtime~admin', 'admin'],\n        filename: 'admin.html',\n      });\n      const authHtmlPlugin = new HtmlWebpackPlugin({\n        inject: true,\n        template: paths.appHtml,\n        minify: {\n          removeComments: true,\n          collapseWhitespace: true,\n          removeRedundantAttributes: true,\n          useShortDoctype: true,\n          removeEmptyAttributes: true,\n          removeStyleLinkTypeAttributes: true,\n          keepClosingSlash: true,\n          minifyJS: {\n            comments: '@cc_on',\n          },\n          minifyCSS: true,\n          minifyURLs: true,\n        },\n        chunks: ['vendors', 'runtime~auth', 'auth'],\n        filename: 'auth.html',\n      });\n      config.plugins = replacePlugin(config.plugins, name => /HtmlWebpackPlugin/i.test(name), indexHtmlPlugin);\n      config.plugins.push(loginHtmlPlugin);\n      config.plugins.push(adminHtmlPlugin);\n      config.plugins.push(authHtmlPlugin);\n\n      // \u7edf\u8ba1\u5206\u6790;\n      // if ('development' !== env) {\n      //   config.plugins.push(new BundleAnalyzerPlugin({ generateStatsFile: true }));\n      // }\n    }\n    return config;\n  },\n  devServer: configFunction => {\n    return (proxy, allowedHost) => {\n      const config = configFunction(proxy, allowedHost);\n      config.historyApiFallback.rewrites = [\n        { from: /^/login.html/, to: '/build/login.html' },\n        { from: /^/admin.html/, to: '/build/admin.html' },\n        { from: /^/auth.html/, to: '/build/auth.html' },\n      ];\n      return config;\n    };\n  },\n};\n")))}}])&&p(t.prototype,i),o&&p(t,o),e}();m.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}}}]);
//# sourceMappingURL=docs-tools-create-react-app.9f054662abe7faa3855c.js.map