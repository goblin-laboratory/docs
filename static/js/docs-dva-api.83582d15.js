(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./docs/dva/API.md":function(e,n,a){"use strict";a.r(n),a.d(n,"default",function(){return d});var t=a("./node_modules/react/index.js"),o=a.n(t),r=a("./node_modules/@mdx-js/tag/dist/index.js");function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){if(null==e)return{};var a,t,o=function(e,n){if(null==e)return{};var a,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(o[a]=e[a]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}function c(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function s(e,n){return!n||"object"!==m(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,n){return(i=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var d=function(e){function n(e){var a;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(a=s(this,l(n).call(this,e))).layout=null,a}var a,t,m;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&i(e,n)}(n,o.a.Component),a=n,(t=[{key:"render",value:function(){var e=this.props,n=e.components;p(e,["components"]);return o.a.createElement(r.MDXTag,{name:"wrapper",components:n},o.a.createElement(r.MDXTag,{name:"h1",components:n,props:{id:"api"}},"API"),o.a.createElement(r.MDXTag,{name:"p",components:n},o.a.createElement(r.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"https://github.com/dvajs/dva/blob/master/docs/API_zh-CN.md"}},"\u539f\u6587\u5730\u5740")),o.a.createElement(r.MDXTag,{name:"h2",components:n,props:{id:"\u8f93\u51fa\u6587\u4ef6"}},"\u8f93\u51fa\u6587\u4ef6"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"dva"}},"dva"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u9ed8\u8ba4\u8f93\u51fa\u6587\u4ef6"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"dvamobile"}},"dva/mobile"),o.a.createElement(r.MDXTag,{name:"p",components:n},"dva/mobile \u662f\u65e0 router \u7248\u7684 dva\uff0c\u53ef\u7528\u4e8e\u591a\u9875\u5e94\u7528\u3001react-native \u7b49\u3002\u53eb dva/mobile \u6709\u70b9\u6b20\u8003\u8651\uff0c\u53ef\u80fd\u5728\u4e0b\u4e2a\u5927\u7248\u672c\u4e2d\u6539\u540d\u3002"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"dvarouter"}},"dva/router"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u9ed8\u8ba4\u8f93\u51fa react-router@2.x \u63a5\u53e3\uff0creact-router-redux \u7684\u63a5\u53e3\u901a\u8fc7\u5c5e\u6027 routerRedux \u8f93\u51fa\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6bd4\u5982\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import { Router, Route, routerRedux } from 'dva/router';\n")),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"dvafetch"}},"dva/fetch"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u5f02\u6b65\u8bf7\u6c42\u5e93\uff0c\u8f93\u51fa isomorphic-fetch \u7684\u63a5\u53e3\u3002\u4e0d\u548c dva \u5f3a\u7ed1\u5b9a\uff0c\u53ef\u4ee5\u9009\u62e9\u4efb\u610f\u7684\u8bf7\u6c42\u5e93\u3002"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"dvasaga"}},"dva/saga"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u8f93\u51fa redux-saga \u7684\u63a5\u53e3\uff0c\u4e3b\u8981\u7528\u4e8e\u7528\u4f8b\u7684\u7f16\u5199\u3002\uff08\u7528\u4f8b\u4e2d\u9700\u8981\u7528\u5230 effects\uff09"),o.a.createElement(r.MDXTag,{name:"h2",components:n,props:{id:"dva-api"}},"dva API"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"app--dvaopts"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h3"},"app = dva(opts)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u521b\u5efa\u5e94\u7528\uff0c\u8fd4\u56de dva \u5b9e\u4f8b\u3002\uff08\u6ce8\uff1a dva \u652f\u6301\u591a\u5b9e\u4f8b\uff09"),o.a.createElement(r.MDXTag,{name:"p",components:n},"opts \u5305\u542b\uff1a"),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"history \uff1a\u6307\u5b9a\u7ed9\u8def\u7531\u7528\u7684 history\uff0c\u9ed8\u8ba4\u662f hashHistory"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"initialState \uff1a\u6307\u5b9a\u521d\u59cb\u6570\u636e\uff0c\u4f18\u5148\u7ea7\u9ad8\u4e8e model \u4e2d\u7684 state\uff0c\u9ed8\u8ba4\u662f {}")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u5982\u679c\u8981\u914d\u7f6e history \u672a browserHistory\uff0c\u53ef\u4ee5\u8fd9\u6837\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import { browserHistory } from 'dva/router';\n\nconst app = dva({\n  history: browserHistory,\n});\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u53e6\u5916\uff0c\u51fa\u4e8e\u6613\u7528\u6027\u7684\u8003\u8651\uff0c opts \u91cc\u4e5f\u53ef\u4ee5\u914d\u6240\u6709\u7684 hooks\uff0c\u4e0b\u9762\u5305\u542b\u5168\u90e8\u7684\u53ef\u914d\u5c5e\u6027\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"const app = dva({\n  history,\n  initialState,\n  onError,\n  onAction,\n  onStateChange,\n  onReducer,\n  onEffect,\n  onHmr,\n  extraReducers,\n  extraEnhancers,\n});\n")),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"appusehooks"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h3"},"app.use(hooks)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u914d\u7f6e hooks \u6216\u8005\u6ce8\u518c\u63d2\u4ef6\u3002\uff08\u63d2\u4ef6\u6700\u7ec8\u8fd4\u56de\u7684\u662f hooks\uff09"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6bd4\u5982\u6ce8\u518c dva-loading \u63d2\u4ef6\u7684\u4f8b\u5b50\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import createLoading from 'dva-loading';\n\napp.use(createLoading(opts));\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"hooks \u5305\u542b\uff1a"),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"onerrorfn-dispatch"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"onError(fn, dispatch)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"effect \u6267\u884c\u9519\u8bef\u6216 subscription \u901a\u8fc7 done \u4e3b\u52a8\u629b\u9519\u65f6\u89e6\u53d1\uff0c\u53ef\u7528\u4e8e\u7ba1\u7406\u5168\u5c40\u51fa\u9519\u72b6\u6001\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6ce8\u610f\uff1asubscription \u5e76\u6ca1\u6709\u52a0 try...catch \uff0c\u6240\u4ee5\u6709\u9519\u8bef\u65f6\u9700\u8981\u901a\u8fc7\u7b2c\u4e8c\u4e2a\u53c2\u6570 done \u4e3b\u52a8\u629b\u9519\u3002\u4f8b\u5b50\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"app.model({\n  subscriptions: {\n    setup({ dispatch }, done){\n      done(e);\n    },\n  },\n});\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u5982\u679c\u6211\u4eec\u7528 antd\uff0c\u90a3\u4e48\u6700\u7b80\u5355\u7684\u5168\u5c40\u9519\u8bef\u5904\u7406\u901a\u5e38\u4f1a\u8fd9\u4e48\u505a\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import { message } from 'antd';\n\nconst app = dva({\n  onError(e) {\n    message.errar(e.message, /* duration */);\n  },\n});\n")),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"onactionfn--fn"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"onAction(fn | fn[])")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u5728 action \u88ab dispatch \u65f6\u89e6\u53d1\uff0c\u7528\u4e8e\u6ce8\u518c redux \u4e2d\u95f4\u4ef6\uff0c\u652f\u6301\u51fd\u6570\u6216\u51fd\u6570\u6570\u7ec4\u683c\u5f0f\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u4f8b\u5982\u6211\u4eec\u8981\u901a\u8fc7 redux-logger \u6253\u5370\u65e5\u5fd7\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import createLogger from 'redux-logger';\n\nconst app = dva({\n  onAction: createLogger(opts),\n});\n")),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"onstatechangefn"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"onStateChange(fn)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"state \u6539\u53d8\u65f6\u89e6\u53d1\uff0c\u53ef\u7528\u4e8e\u540c\u6b65 state \u5230 localStorage\uff0c\u670d\u52a1\u5668\u7aef\u7b49\u3002"),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"onreducerfn"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"onReducer(fn)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u5c01\u88c5 reducer \u6267\u884c\u3002\u6bd4\u5982\u501f\u52a9 redux-undo \u5b9e\u73b0 redo/undo\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import undoable from 'redux-undo';\n\nconst app = dva({\n  onReducer: reducer => {\n    return (state, action) => {\n      const undoOpts = {};\n      const newState = undoable(reducer, undoOpts)(state, action);\n      // \u7531\u4e8e dva \u540c\u6b65\u4e86 routing \u6570\u636e\uff0c\u6240\u4ee5\u9700\u8981\u628a\u8fd9\u90e8\u5206\u8fd8\u539f\n      return { ...newState, routing: newState.present.routing };\n    },\n  },\n});\n")),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"oneffectfn"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"onEffect(fn)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u5c01\u88c5 effect \u6267\u884c\u3002\u6bd4\u5982 dva-loading \u57fa\u4e8e\u6b64\u5b9e\u73b0\u4e86\u81ea\u52a8\u5904\u7406 loading \u72b6\u6001\u3002"),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"onhmrfn"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"onHmr(fn)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u70ed\u66ff\u6362\u76f8\u5173\uff0c\u76ee\u524d\u7528\u4e8e babel-plugin-dva-hmr \u3002"),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"extrareducers"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"extraReducers")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6307\u5b9a\u989d\u5916\u7684 reducer\uff0c\u6bd4\u5982 redux-form \u9700\u8981\u6307\u5b9a\u989d\u5916\u7684 from reducer\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import { reducer as formReducer } from 'redux-form';\n\nconst app = dva({\n  extraReducers: {\n    form: formReducer,\n  },\n});\n")),o.a.createElement(r.MDXTag,{name:"h4",components:n,props:{id:"extraenhancers"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h4"},"extraEnhancers")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6307\u5b9a\u989d\u5916\u7684 StoreEnhancers\uff0c\u6bd4\u5982\u7ed3\u5408 redux-persist \u7684\u4f7f\u7528\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import { persistStore, autoRehydrate } from 'redux-persist';\n\nconst app = dva({\n  extraEnhancers: [autoRehydrate()],\n});\npersistStore(app._store);\n")),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"appmodelmodel"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h3"},"app.model(model)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6ce8\u518c model\uff0c\u8be6\u89c1 ",o.a.createElement(r.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"#Model"}},"#Model")," \u90e8\u5206\u3002"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"appunmodelnamespace"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h3"},"app.unmodel(namespace)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u53d6\u6d88 model \u6ce8\u518c\uff0c\u6e05\u7406 reducers\uff0ceffects \u548c subscription \u5982\u679c\u6ca1\u6709\u8fd4\u56de unlisten \u51fd\u6570\uff0c\u4f7f\u7528 app.unmodel \u4f1a\u7ed9\u4e88\u8b66\u544a\u3002"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"approuter-history-app---routerconfig"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h3"},"app.router(({ history, app }) => RouterConfig)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6ce8\u518c\u8def\u7531\u8868\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u901a\u5e38\u662f\u8fd9\u6837\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"import { Router, Route } from 'dva/router';\n\napp.router(({ history }) => {\n  return (\n    <Router history={history}>\n      <Route path=\"/\" component={App} />\n    </Router>\n  );\n});\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u63a8\u8350\u628a\u8def\u7531\u4fe1\u606f\u62bd\u6210\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\uff0c\u8fd9\u6837\u7ed3\u5408 bable-plugin-dva-hmr \u53ef\u5b9e\u73b0\u8def\u7531\u548c\u7ec4\u4ef6\u7684\u70ed\u52a0\u8f7d\uff0c\u6bd4\u5982\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"app.router(require('./router'));\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u800c\u6709\u4e9b\u573a\u666f\u53ef\u80fd\u4e0d\u80fd\u4f7f\u7528\u8def\u7531\uff0c\u6bd4\u5982\u591a\u9875\u5e94\u7528\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u4f20\u5165\u8fd4\u56de JSX \u5143\u7d20\u7684\u51fd\u6570\u3002\u6bd4\u5982\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-jsx"}},"app.router(() => <App />);\n")),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"appstartselector"}},o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"h3"},"app.start(selector?)")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u542f\u52a8\u5e94\u7528\u3002 selector \u53ef\u9009\uff0c\u5982\u679c\u6ca1\u6709 selector \u53c2\u6570\uff0c\u4f1a\u8fd4\u56de\u4e00\u4e2a\u8fd4\u56de JSX \u5143\u7d20\u7684\u51fd\u6570\u3002"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-jsx"}},"app.start('#root');\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u90a3\u4e48\u4ec0\u4e48\u65f6\u5019\u4e0d\u52a0 selector \uff1f\u5e38\u89c1\u573a\u666f\u6709\u6d4b\u8bd5\u3001node \u7aef\u3001react-native \u548c i18n \u56fd\u9645\u5316\u652f\u6301\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6bd4\u5982\u901a\u8fc7 react-intl \u652f\u6301\u56fd\u9645\u5316\u7684\u4f8b\u5b50\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-jsx"}},"import { IntlProvider } from 'react-intl';\n...\nconst App = app.start();\nReactDom.render(<IntlProvider><App /></IntlProvider>, htmlElement);\n")),o.a.createElement(r.MDXTag,{name:"h2",components:n,props:{id:"model"}},"Model"),o.a.createElement(r.MDXTag,{name:"p",components:n},"model \u662f dva \u4e2d\u6700\u91cd\u8981\u7684\u6982\u5ff5\u3002\u4ee5\u4e0b\u662f\u5178\u578b\u7684\u4f8b\u5b50\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"app.model({\n  namespace: 'todo',\n  state: [],\n  reducers: {\n    add (state, { payload: todo }) {\n      // \u4fdd\u5b58\u6570\u636e\u5230 state\n      return [...state, todo];\n    },\n  },\n  effects: {\n    *save({ payload: todo }, { put, call }) {\n      // \u8c03\u7528 saveTodoToServer\uff0c\u6210\u529f\u540e\u89e6\u53d1 add action \u4fdd\u5b58\u5230 state\n      yield call(saveTodoToServer, todo);\n      yield put({ type: 'add', payload: todo });\n    },\n  },\n  subscriptions: {\n    setup({ history, dispatch }){\n      return history.listen(({ pathname })=>{\n        if (pathname === '/') {\n          dispatch({ type: 'load' });\n        }\n      });\n    },\n  },\n});\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"model \u5305\u542b5\u4e2a\u5c5e\u6027\uff1a"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"namespace"}},"namespace"),o.a.createElement(r.MDXTag,{name:"p",components:n},"model \u7684\u547d\u540d\u7a7a\u95f4\uff0c\u540c\u65f6\u4e5f\u662f\u5b83\u5728\u5168\u5c40 state \u4e0a\u7684\u5c5e\u6027\uff0c\u53ea\u80fd\u7528\u5b57\u7b26\u4e32\uff0c\u4e0d\u652f\u6301\u901a\u8fc7 . \u7684\u65b9\u5f0f\u521b\u5efa\u591a\u5c42\u547d\u540d\u7a7a\u95f4\u3002"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"state"}},"state"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u521d\u59cb\u503c\uff0c\u4f18\u5148\u7ea7\u4f4e\u4e8e\u4f20\u7ed9 dva() \u7684 opts.initialState \u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6bd4\u5982\uff1a"),o.a.createElement(r.MDXTag,{name:"pre",components:n},o.a.createElement(r.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"const app = dva({\n  initialState: { count: 1 },\n});\n\napp.model({\n  namespace: 'count',\n  state: 0,\n});\n")),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6b64\u65f6\uff0c\u5728 app.start() \u540e state.count \u4e3a 1 \u3002"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"reducers"}},"reducers"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u4ee5 key/value \u683c\u5f0f\u5b9a\u4e49 reducer\u3002\u7528\u4e8e\u5904\u7406\u540c\u6b65\u64cd\u4f5c\uff0c\u552f\u4e00\u53ef\u4ee5\u4fee\u6539 state \u7684\u5730\u65b9\u3002\u7531 action \u89e6\u53d1\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u683c\u5f0f\u4e3a (state, action) => newState \u6216 ","[(state, action) => newState, enhancer]"," \u3002"),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"effects"}},"effects"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u4ee5 key/value \u683c\u5f0f\u5b9a\u4e49 effect \u3002\u7528\u4e8e\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u548c\u4e1a\u52a1\u903b\u8f91\uff0c\u4e0d\u76f4\u63a5\u4fee\u6539 state\u3002\u7531 action \u89e6\u53d1\uff0c\u53ef\u4ee5\u89e6\u53d1 action\uff0c\u53ef\u4ee5\u548c\u670d\u52a1\u5668\u4ea4\u4e92\uff0c\u53ef\u4ee5\u83b7\u53d6\u5168\u5c40 state \u6570\u636e\u7b49\u7b49\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u683c\u5f0f\u4e3a ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"*(action, effects) => void")," \u6216 ",o.a.createElement(r.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"[*(action, effects) => void, {type}]")," \u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"type \u7c7b\u578b\u6709\uff1a"),o.a.createElement(r.MDXTag,{name:"ul",components:n},o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"takeEvery"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"takeLatest"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"throttle"),o.a.createElement(r.MDXTag,{name:"li",components:n,parentName:"ul"},"watcher")),o.a.createElement(r.MDXTag,{name:"h3",components:n,props:{id:"subscriptions"}},"subscriptions"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u4ee5 key/value \u683c\u5f0f\u5b9a\u4e49 subscription\u3002subscription \u662f\u8ba2\u9605\uff0c\u7528\u4e8e\u8ba2\u9605\u4e00\u4e2a\u6570\u636e\u6e90\uff0c\u7136\u540e\u6839\u636e\u9700\u8981 dispatch \u76f8\u5e94\u7684 action\u3002\u5728 app.start() \u65f6\u88ab\u6267\u884c\uff0c\u6570\u636e\u6e90\u53ef\u4ee5\u662f\u5f53\u524d\u7684\u65f6\u95f4\u3001\u670d\u52a1\u5668\u7684 websocket \u8fde\u63a5\u3001keyboard \u8f93\u5165\u3001geoloction \u53d8\u5316\u3001history \u8def\u7531\u53d8\u5316\u7b49\u7b49\u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u683c\u5f0f\u4e3a ({ dispatch, history }, done) => unlistenFunction \u3002"),o.a.createElement(r.MDXTag,{name:"p",components:n},"\u6ce8\u610f\uff1a\u5982\u679c\u8981\u4f7f\u7528 app.unmodel() \uff0csubscription \u5fc5\u987b\u8fd4\u56de unlisten \u65b9\u6cd5\uff0c\u7528\u4e8e\u53d6\u6d88\u6570\u636e\u8ba2\u9605\u3002"))}}])&&c(a.prototype,t),m&&c(a,m),n}();d.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}}}]);
//# sourceMappingURL=docs-dva-api.9f054662abe7faa3855c.js.map